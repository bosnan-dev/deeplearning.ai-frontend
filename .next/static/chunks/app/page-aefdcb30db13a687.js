(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9858:function(e,t,r){Promise.resolve().then(r.bind(r,4100))},4100:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),a=r(2265);let o=async()=>{try{var e,t,r;console.log("Client: Starting fetch request to proxy");let s=await fetch("/api/courses");if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let a=await s.json();if(console.log("Client: Raw response:",JSON.stringify(a,null,2)),null==a?void 0:null===(r=a.result)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:null===(e=t.json)||void 0===e?void 0:e.courses){let e=a.result.data.json.courses.map(e=>{var t,r,s,a,o,l,n;return{id:e.courseId.toString(),title:e.name||"",description:(null===(r=e.outline)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.name)||"",courseDescription:(null===(s=e.wpData)||void 0===s?void 0:s.courseDescription)||"",coursePartner:(null===(o=e.wpData)||void 0===o?void 0:null===(a=o.coursePartner)||void 0===a?void 0:a.filter(e=>e&&e.logo))||[],thumbnailImage:(null===(l=e.wpData)||void 0===l?void 0:l.thumbnailImage)||"",courseTopic:(null===(n=e.wpData)||void 0===n?void 0:n.courseTopic)||[]}});return console.log("Client: Extracted courses:",e),e}return console.error("Client: Unexpected data structure:",a),[]}catch(e){return console.error("Client: Error in fetchCourses:",e),[]}};var l=r(3145);function n(e){var t,r;let{course:a}=e;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:a.title}),(0,s.jsx)("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:a.courseDescription}),null===(t=a.coursePartner)||void 0===t?void 0:t.map((e,t)=>e.logo&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,s.jsx)("div",{className:"relative w-6 h-6",children:(0,s.jsx)(l.default,{src:e.logo,alt:e.title||"Partner logo",fill:!0,className:"object-contain"})}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.title})]},t)),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:null===(r=a.courseTopic)||void 0===r?void 0:r.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:e},t))})]})})}function i(e){let{onSearch:t}=e;return(0,s.jsx)("div",{className:"w-96",children:(0,s.jsx)("input",{type:"text",placeholder:"Search courses...",onChange:e=>t(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})}function c(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(null),[m,h]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{d(!0),console.log("Page: Starting to fetch courses...");let e=await o();console.log("Page: Received courses:",e);let r=Array.isArray(e)?e:[];h({timestamp:new Date().toISOString(),coursesReceived:r.length,hasData:!!r,isArray:Array.isArray(r),rawData:e}),t(r),l(r)}catch(t){let e=t instanceof Error?t.message:"Unknown error occurred";x("Failed to load courses: ".concat(e)),console.error("Page: Error loading courses:",t)}finally{d(!1)}})()},[]),c)?(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center",children:"Loading courses..."})}):(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 text-red-600 text-center",children:"DeepLearning.AI"}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Courses Available"}),(0,s.jsx)(i,{onSearch:t=>{let r=t.toLowerCase();l(e.filter(e=>e.title.toLowerCase().includes(r)||e.courseDescription.toLowerCase().includes(r)||e.courseTopic.some(e=>e.toLowerCase().includes(r))))}})]})}),u?(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"text-red-500",children:u})}):Array.isArray(r)?0===r.length?(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-gray-600",children:"No courses found matching your search."})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,s.jsx)(n,{course:e},e.id))}):(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-red-500",children:"Error: Courses data is not in the expected format"})})]})}}},function(e){e.O(0,[145,971,117,744],function(){return e(e.s=9858)}),_N_E=e.O()}]);